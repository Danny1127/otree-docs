.. _v0.5


Version 0.5
===========

What's new
----------

oTree 0.5 is now released.

It has a different architecture based on WebSockets,
through use of `Django Channels <https://github.com/andrewgodwin/channels>`__.

It should run faster and support more concurrent players.

There is also a feature called "Rooms" that aims to replace the "Default session" feature,
but that is still under development and not ready yet.

Installation
------------

Upgrade as usual::

    pip install --upgrade otree-core
    otree resetdb

A new pre-release is published frequently,
so it's good to run the above commands every few days,
to get the latest bugfixes.

Deploying to Heroku
-------------------

You need to install Heroku's `Redis add-on <https://elements.heroku.com/addons/heroku-redis>`__.

Then update your ``requirements_base.txt`` so it contains the right version of ``otree-core``.
This will tell Heroku which version of oTree to install.
(The currently installed version of ``otree-core`` is listed in the output of ``pip freeze``).

In your project's root directory, find the file ``Procfile``
change its contents to the following, and if using Heroku, turn on both dynos:

.. note::

    The below commands are new as at May 18, 2016.
    If you installed oTree 0.5 beta before that, make sure to update to the below.

.. code-block:: bash

    web: otree webandworkers
    timeoutworker: otree timeoutworker
